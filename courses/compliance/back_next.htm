<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link rel="stylesheet" type="text/css" href="css/globals.css" />
    <link rel="stylesheet" type="text/css" href="css/animations.css" />
    <style>
        body {
            background-color: transparent;
        }

        #backButton,
        #nextButton {
            display: none;
            cursor: pointer;
        }

        #backIcon {
            background: url('interface/nav_back.png') no-repeat top center;
            height: 29px;
        }

        #nextIcon {
            background: url('interface/nav_next.png') no-repeat top center;
            height: 29px;
            display: block !important;
        }

        #backButton:hover,
        #nextButton:hover {
            background-position: center -30px;
        }

        #backLabel,
        #nextLabel {
            font-size: 11px;
            line-height: 9px;
            color: #999999;
            text-align: center;
        }
       
    </style>
    <script src="https://code.jquery.com/jquery-3.0.0.min.js" crossorigin="anonymous"></script>
    <!--<script language="javascript" src="js/jquery-1.7.min.js"></script>
    <script language="javascript" src="js/jquery-ui-1.8.16.custom.min.js"></script>-->
    <script language="javascript" src="js/utils.js"></script>
    <script language="javascript">
        var pageLoaded = false,
            labelsSet = false,
            tmr,
            tmrDone,
            isClosed = true,
            jumpBack = "",
            jumpForward = "";
        function onPageLoad() {
            pageLoaded = true;
        }
        function leftArrowKeyPressed() {
            if ($("#backButton").is(':visible')) goBack();
        }
        function rightArrowKeyPressed() {
            if ($("#nextButton").is(':visible')) goNext();
        }
        function goBack() {
            if (parent.nav.getPage(+1) == null || (parent.nav.getPage(+1).completed == false && parent.nav.settings.gated))
                $("#nextButton").hide();
            clearTimeout(tmr);
            if (jumpBack.length === 0) {
                parent.slideContent(-1);
            } else {
                parent.hidePop();
                parent.nav.gotoPage(jumpBack);
            }

        }
        function goNext() {
            clearTimeout(tmr);
            if (jumpForward.length == 0) {// custom
                parent.slideContent(+1);
            } else {
                parent.hidePop();
                parent.nav.gotoPage(jumpForward);
            }
            $(".nextButton").hide();
            if (parent.nav.getPage(+1) == null || (parent.nav.getPage(+1).completed == false && parent.nav.settings.gated))
                $(".nextButton").hide();
        }
        function onAllowToNavigate(nav) { //function invoked by framework when we gate course
            renderNextButton(nav);
        }
        function onUpdateUI(nav) { //function invoked by framework when we gate course
            tmrDone = false;
            $("#nextButton").hide();
            if (nav.getPage().jumpBack && nav.getPage().jumpBack.length > 0) {
                jumpBack = nav.getPage().jumpBack;
            } else {
                jumpBack = "";
            }
            if (nav.getPage().jumpForward && nav.getPage().jumpForward.length > 0) {
                jumpForward = nav.getPage().jumpForward;
            } else {
                jumpForward = "";
            }
            //handle labels
            if (!labelsSet) {
                var labelBack = nav.settings.labelBack,
                    labelNext = nav.settings.labelNext;
                if (parent.name == "subCourse") {
                    labelBack = parent.parent.nav.settings.labelBack;
                    labelNext = parent.parent.nav.settings.labelNext;
                }
                $("#backIcon").attr("title", labelBack);
                $("#nextIcon").attr("title", labelNext);
                $("#backLabel").attr("title", labelBack);
                $("#nextLabel").attr("title", labelNext);
                $("#backLabel").html(labelBack);
                $("#nextLabel").html(labelNext);
                labelsSet = true;
            }
            // Display buttons
            renderBackButton(nav);

            var delay;
            if (parent.nav.getPage().completed) {
                delay = Number(nav.settings.nextButtonCompletedDelay);
            } else {
                delay = Number(nav.settings.nextButtonDelay);
            }
            if (isNaN(delay)) delay = 0;
            tmr = setTimeout(function () {
                tmrDone = true;
                renderNextButton(nav);
            }, delay * 1000);

            var delay2 = Number(nav.settings.nextPromptDelay);
            if (isNaN(delay2)) delay2 = 0;
            if (!nav.settings.gated || nav.getPage().completed) {
                tmr = setTimeout(function () {
                    if (tmr != null) blinkNext();
                }, delay2 * 1000);
            }

        }

        function blinkNext() {
            $("#nextIcon").attr("class", "faa-horizontal animated nextButton");
        }

        function renderBackButton(nav) {
            var firstPage = nav.getPage(-1) == null;
            if (firstPage) {
                $("#backButton").hide();
            } else {
                if ($("#backButton:visible").length == 0) $("#backButton").show();
            }
        }
        function renderNextButton(nav) {
            if (nav.settings.gated && !nav.getPage().completed) {
                $("#nextButton").hide();
            } else if (nav.settings.gated && nav.getPage().completed && tmrDone != true) {
                $("#nextButton").hide();
            } else {
                var lastPage = nav.getPage(+1) == null;
                if (lastPage) {
                    $("#nextButton").hide();
                } else {
                    if ($("#nextButton:visible").length == 0) $("#nextButton").show();
                }
            }
        }
        function removeTouch() {
            $("body").removeClass("notouch");
        }
    </script>
</head>
<body onload="javascript:onPageLoad()">
	<table border="0" cellpadding="0" cellspacing="0" width="100%">
    	<tr>
            <td valign="top" width="50%">
                <div id="backButton">
                    <div id="backIcon" onclick="javascript:goBack()" ontouchstart="removeTouch()"></div>
                    <div id="backLabel"  onclick="javascript:goBack()"></div>
                </div>
			</td>
	        <td valign="top" width="50%">
                <div id="nextButton">
                    <div id="nextIcon" onclick="javascript:goNext()" ontouchstart="removeTouch()"></div>
                    <div id="nextLabel" onclick="javascript:goNext()" ontouchstart="removeTouch()"></div>
                </div>
			</td>
    	</tr>
	</table>
</body>
</html>